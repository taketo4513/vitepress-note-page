# CSS2

## CSS基础

### CSS简介

CSS 的全称为：层叠样式表（Cascading Style Sheets)。

CSS 也是一种标记语言。用于给 HTML 结构设置样式，例如：文字大小，颜色，元素宽高等等。

>简单理解：CSS可以美化HTML，让HTML更漂亮。
>核心思想：HTML搭建结构，CSS添加样式，实现了：结构与样式的分离。

### CSS 的编写位置

**行内样式：**

写在标签的 `style` 属性中，（又称：内联样式）。

```html
<h1 style="color:red;font-size:60px;">Hello World</h1>
```

>- style 属性的值不能随便写，写要符合 `CSS` 语法规范，是 `名:值;` 的形式。
>- 行内样式表，只能控制当前标签的样式，对其他标签无效。

**内部样式：**

写在 `html` 页面内部，将所有的 `CSS` 代码提取出来，单独放在 `<style>` 标签中。

```css
<style>
    h1 {
        color: red;
        font-size: 40px;
    }
</style>
```

> `<style>` 标签理论上可以放在 HTML 文档的任何地方，但一般都放在 `<head>` 标签中。

**外部样式：**

写在单独的 `.css` 文件中，随后在 `HTML` 文件中引入使用。

```html
<!-- 新建一个扩展名为 .css 的样式文件，把所有 CSS 代码都放入此文件中。 -->
h1 {
    color: brown;
    font-size: 30px;
}

<!-- 在 HTML 文件中引入 .css 文件。 -->
<link rel="stylesheet" href="./position.css">
```

>`<link>` 标签要写在 `<head>` 标签中。
>
>`<link>` 标签属性说明：
>
>- href：引入的文档来自于哪里。
>- rel：（relation: 关系）说明引入的文档与当前文档之间的关系。

### 样式表的优先级

优先级规则：行内样式 > 内部样式 = 外部样式

| 分类     | 优点                                                         | 缺点                                               | 使用频率 | 作用范围 |
| -------- | ------------------------------------------------------------ | -------------------------------------------------- | -------- | -------- |
| 行内样式 | 优先级最高                                                   | 结构与样式未分离<br/>代码结构混乱<br/>样式不能复用 | 很低     | 当前标签 |
| 内部样式 | 样式可复用<br/>代码结构清晰                                  | 结构与样式未彻底分离<br/>样式不能多页复用          | 一般     | 当前页面 |
| 外部样式 | 样式可多页面复用<br/>代码结构清晰<br/>可触发浏览器的缓存机制<br/>结构与样式彻底分离 | 需要引入才能使用                                   | 最高     | 多个页面 |

### CSS语法规范

CSS语法有两部分构成。

- **选择器**：找到要添加样式的元素。
- **声明块**：设置具体的样式（声明块是有一个或多个声明组成的），声明的格式为：`属性名: 属性值;`

>- 最后一个声明后的分号理论上能省略，但最好还是加上。
>- 选择器与声明块之间，属性名与属性值之间，均有一个空格，理论上能省略，但最好还是写上。

**注释的写法：**

```css
/* 给h1元素添加样式 */
h1 {
    /* 设置文字颜色为酒红色 */
    color: brown;
    /* 设置字体大小为40px */
    font-size: 30px;
}
```

### CSS代码风格

**展开风格：**

开发时推荐，便于维护和调试

```css
h1 {
    color: green;
    font-size: 20px;
}
```

**紧凑风格：**

项目上线时推荐，可减小文件体积

```css
h1{color: green;font-size: 20px;}
```

### CSS基本选择器

CSS 基本选择器包含以下四种：

1. 通配选择器
2. 元素选择器
3. 类选择器
4. id选择器

**通配选择器：**

可以选中所有的 `HTML` 元素。

```css
* {
  	属性名：属性值;
}

/* 选中所有元素 */
* {
		color: red;
}
```

**元素选择器：**

为页面中某种元素统一设置样式。

```css
标签名 {
  	属性名： 属性值
}

/* 选中所有h1元素 */
h1 {
    color: red;
    font-size: 40px;
}
```

**类选择器：**

根据元素的 `class` 值，来选中某些元素。

```css
.类名 {
  	属性名: 属性值;
}

/* 选中页面中所有类名为text的元素 */
.text {
    color: brown;
}
```

>- 元素的 class 属性值不带 `.`，但 CSS 的类选择器要带 `.`
>- class 属性值：不要使用纯数字、不要使用中文、尽量使用英文与数字的组合，若由多个单词组成，使用 - 做连接。
>- 一个元素不能写多个 class 属性， 一个元素的 class 属性，能写多个值，要用空格隔开

**ID选择器：**

根据元素的 `id` 属性值，来精准的选中某个元素。

```css
#id值 {
  	属性名：属性值;
}

#myid {
		color: blueviolet;
}
```

>- `id` 属性值：尽量由字母、数字、下划线(` _`)、短杠(`- `) 组成，最好以字母开头，不要包含空格，区分大小写。
>- 一个元素只能拥有一个 `id` 属性。 多个元素的 `id` 属性值不能相同。
>- 一个元素可以同时拥有 `id` 和 `class` 属性。

**总结：**

| 基本选择器 | 特点                                              | 用法                   |
| ---------- | ------------------------------------------------- | ---------------------- |
| 通配选择器 | 选中所有标签，一般用于清除样式。                  | `* {color: red;}`      |
| 元素选择器 | 选中所有同种标签，但是不能差异化选择。            | `h1 {color:red;}`      |
| 类选择器   | 选中所有特定类名（`class`值）的元素——使用频率很高 | `.say {color:red;}`    |
| ID选择器   | 选中特定`id`值的那个元素（唯一的）。              | `#earthy {color:red;}` |

### CSS复合选择器

**交集选择器：**

选中同时符合多个条件的元素。

```css
选择器1选择器2选择器3{
  	属性名：属性值;
}

/* 选中：类名为beauty的p元素，为此种写法用的非常多！！！！ */
p.beauty {
	color: blue;
}
/* 选中：类名包含rich和beauty的元素 */
.rich.beauty {
    color: green;
}
```

>1. 有标签名，标签名必须写在前面。
>2. id选择器，理论上可以作为交集的条件，但实际应用中几乎不用，因为没有意义。
>3. 交集选择起中不可能出现两个元素选择器，应为一个元素，不可能既是 `p` 元素，又是 `span` 元素。
>4. 用的最多的交集选择器是：元素选择器配合类名选择器，例如：`p.beauty`

**并集选择器：**

选中多个选择器对应的元素，又称：分组选择器。

```css
选择器1,
选择器2,
选择器3{
  	属性名：属性值;
}

/* 选中id为peiqi，或类名为rich，或类名为beauty的元素 */
#peiqi,
.rich,
.beauty {
    font-size: 40px;
    background-color: skyblue;
    width: 200px;
}
```

>1. 并集选择器，我们一般竖着写。
>2. 任何形式的选择器，都可以作为并集选择器的一部分。
>3. 并集选择器，通常用于集体声明，可以缩小样式表体积。

**后代选择器：**

选中指定元素中，符合要求的后代元素(包含孙子节点)。

```css
选择器1 选择器2 选择器3{
  	属性名：属性值;
}

/* 选中ul标签中的所有li标签 */
ul li{
    color: blueviolet;
}
/* 选中ol中的所有li */
ol li{
    color: aquamarine;
}
/* 选中li中的所有a标签 */
li a{
    color:cadetblue;
}
/* 选中类名为subject的元素中的所有类名为sing的元素 */
.subject .sing{
    color: brown;
}
/* 选中类名为subject的元素中的所有类名为frontend的li标签 */
.subject li.frontend{
  color: blue;
}
```

>1. 后代选择器，最终选择的是后代，不选中祖先。
>
>2. 儿子、孙子、重孙子，都算是后代。
>
>3. 结构一定要符合之前讲的 HTML 嵌套要求，例如：不能 `p` 中写 `h1 ~ h6` 。

**子代选择器：**

选中指定元素中，符合要求的子元素（儿子元素）。

```css
选择器1>选择器2>选择器3{
  	属性名：属性值;
}

/* div中的子代a元素 */
div>a{
    color: brown;
}

/* div中的子代p标签的子代a元素 */
div>p>a{
    color:aquamarine;
}

/* 类名为 person的元素中的子代a元素 */
.person>a{
    color:red;
}
```

>1. 子代选择器，最终选择的是子代，不是父级。
>
>2. 子、孙子、重孙子、重重孙子 ...... 统称后代！，**子**就是指**儿子**。

**兄弟选择器：**

相邻兄弟选择器：选中指定元素后，符合条件的**相邻兄弟**元素。

通用兄弟选择器：选中指定元素后，符合条件的**所有兄弟**元素。

```css
/* 相邻兄弟选择器 */
选择器1+选择器2{
  	属性名：属性值;
}
/* 选中div后面紧紧相邻的p元素（睡在我下铺的兄弟） */
div+p{
    color: brown;
} 

/* 通用兄弟选择器 */
选择器1~选择器2{
  	属性名：属性值;
}
/* 选中div后的所有的兄弟p元素 */
div~p {
color:red;
}
```

**属性选择器：**

选中属性值符合要求的元素。

1. [属性名] 选中具有某个属性的元素。

2. [属性名=“值”] 选中包含某个属性，且属性值等于指定值的元素。

3. [属性名^=“值”] 选中包含某个属性，且属性值以指定的值开头的元素。

4. [属性名$=“值”] 选中包含某个属性，且属性值以指定的值结尾的元素。

5. [属性名*=“值”] 选中包含某个属性，且属性值包含指定值的元素。

```css
/* 第一种写法 ：选中具有 title 属性的元素 */
[title]{
    color: brown;
}

/* 第二种写法： 选中具有title属性，且属性值为vue2的元素*/
[title="vue2"]{
    color: brown;
}

/* 第三种写法： 选中具有title属性，且属性值以字母J开头的元素*/
[title^="J"]{
    color: blue;
}

/* 第四种写法： 选中具有title属性，且属性值以字母a结尾的元素*/
[title$="a"]{
    color:blueviolet;
}

/* 第五种写法： 选中具有title属性，且属性值包含字母J的元素*/
[title*="J"]{
    color:rgb(185, 128, 149);
}
```

**伪类选择器：**

选中特殊状态的元素。

1. 动态伪类

   `:link` 超链接**未被访问**的状态。

   `:visited` 超链接**访问过**的状态。

   `:hover` 鼠标划过 (悬停)元素上的状态。

   `:active` 元素**激活**的状态。

   > 什么是激活？ —— 按下鼠标不松手。
   >
   > 注意点：遵循 `LVHA` 的顺序，即： `link`、`visited`、`hovr`、`active`。

   `:focus` 获取焦点的元素。

   > 表单类元素才能使用 `:focus` 伪类。
   >
   > 当用户：点击元素、触摸元素、或者通过键盘的 `tab` 键等方式选择元素时，就是获得焦点。

2. 结构伪类

   `:first-child`所有兄弟元素中的第一个。

   `:last-child` 所有兄弟元素的最后一个。

   `:nth-child(n)` 所有兄弟元素的第 n 个。

   `:first-of-type` 所有同类型兄弟元素中的第一个。

   `:last-of-type` 所有同类型兄弟元素中的最后一个。

   `:nth-of-type` 所有同类型兄弟元素中的第 n 个。

   > 关于 n 的取值
   >
   > 1. 0 或者不写：什么都选不中 —— 几乎不用。
   >
   > 2. n：选中所有子元素 —— 几乎不用。
   >
   > 3. 1～正无穷的整数：选中对应序号的子元素。
   >
   > 4. 2n 或 even：选中序号为偶数的子元素。
   >
   > 5. 2n+1 或 odd：选中序号为奇数的子元素。
   >
   > 6. -n+3：选中前三个。

   ```css
   /* 选中div的子代中的p元素，且是第一个（按照所有兄弟计算，不是只看p元素里面的第一个） */
   div>p:first-child {
       color: red;
   }
   
   /* 选中div的子代中的p元素，且是最后一个（按照所有兄弟计算） */
   div>p:last-child {
       color: green;
   }
   
   /* 选中div的子代中的第n个p元素（按照所有兄弟计算） */
   div>p:nth-child(3) {
       color: blue;
   }
   
   /* 选中div的子代中的第偶数个数的p元素（按照所有兄弟计算） */
   div>p:nth-child(2n) {
       color: brown;
   }
   
   /* 选中div的子代中的p元素且在p元素中是第一个儿子（所有同类型兄弟计算） */
   div>p:first-of-type{
       color:rgb(159, 65, 210)
   }
   
   /* 选中div的子代中的p元素且在p元素中是第一个儿子（所有同类型兄弟计算） */
   div>p:last-of-type{
       color:rgb(131, 138, 205)
   }
   
   /* 选中div的子代中的p元素且在p元素中是第n个（所有同类型兄弟计算） */
   div>p:nth-of-type(3){
       color:rgb(107, 153, 50)
   }
   ```

   `:nth-last-child(n)` 所有兄弟元素中的倒数第n 个。

   `nth-last-of-type(n)` 所有同类型兄弟元素中的倒数第 n 个。

   `only-child` 选择没有兄弟的元素(独生子女)。

   `only-of-type` 选择没有同类型兄弟的元素。

   `root` 根元素。

   `empty` 内容为空元素（空格也算内容）。

   ```css
   /* 选中div的子代中的p元素中是倒数第n个儿子（所有兄弟计算） */
   div>p:nth-last-child(2) {
       color:rgb(61, 45, 151);
   }
   
   /* 选中div的子代中的p元素且在p元素中是倒数第n个儿子（所有同类型兄弟计算） */
   div>p:nth-last-of-type(2) {
       color:aqua;
   }
   
   /* 选中没有兄弟的span元素 */
   span:only-child {
       color:red;
   }
   
   /* 选中没有同类型兄弟的span元素 */
   span:only-of-type {
       color:red;
   }
   
   /* 选中根元素 */
   :root {
       background-color: rgb(192, 116, 116);
   }
   
   /* 选中没有内容的div元素 */
   div:empty {
       background-color: red;
       width: 180px;
       height: 100px;
   }
   ```

3. 否定伪类

   `:not(选择器)` 排除满足括号中条件的元素。

   ```css
   /* 选中div的儿子p元素，但是排除类名为fail的元素 */
   div>p:not(.fail) {
       color: brown;
   }
   
   /* 选中div的儿子p元素，但是排除title 属性值包含“加油”的元素 */
   div>p:not([title*="加油"]) {
       color: brown;
   }
   
   /* 选中div 的儿子 p 元素，但是排除第一个儿子元素 */
   div>p:not(:first-child){
       color:green;
   }
   ```

4. UI 伪类

   `:checked` 被选中的复选框或单选按钮。

   `:enable` 可用的表单元素（没有 disabled属性）。

   `:disabled` 不可用的表单元素（有 disabled 属性）。

   ```css
   /* 选中勾选的复选框 */
   input:checked {
       width: 100px;
       height: 100px;
   }
   
   /* 选中的是禁用的input元素 */
   input:disabled{
       background-color: gray;
   }
   
   /* 选中的是可用的input元素（不常用） */
   input:enabled{
       background-color: green;
   }
   ```

5. 目标伪类

   `：target` 选中锚点指向的元素。

   ```css
   div:target {
   		background-color: forestgreen;
   }
   ```

6. 语言伪类

   `:lang()` 根据指定的语言选择元素（本质是看 lang 属性的值）。

   ```css
   /* 选中 div 语言是 en 的元素 */
   div:lang(en) {
       color: red;
   }
   
   /* 选中语言是 zh-CN 的元素 */
   :lang(zh-CN) {
       color: green;
   } 
   ```

**伪元素选择器：**

选中元素中的一些特殊位置。

`::first-letter` 选中元素中的第一个文字。
`::first-line` 选中元素中的第一行文字。
`::selection` 选中被鼠标选中的内容。
`::placeholder` 选中输入框的提示文字。
`::before` 在元素最开始的位置，创建一个子元素（必须用 content 属性指定内容）。
`::after` 在元素最末尾的位置，创建一个子元素（必须用 content 属性指定内容）。

```css
/* 选中的是div中的第一个文字 */
div::first-letter {
    color: red;
    font-size: 40px;
}

/* 选中的是div中的第一行文字 */
div::first-line {
    background-color:brown
}

/* 选中的是div中被鼠标选中的文字 */
div::selection {
    background-color: yellow;
}

/* 选中的是输入框中的提示文字 */
input::placeholder {
    color: aquamarine;
}

/* 选中的是p元素最开始的位置，随后创建一个子元素 */
p::before { 
    content: "¥";
}

/* 选中的是p元素最末尾的位置，随后创建一个子元素 */
p::after{
    content: ".00";
}
```

### 选择器的优先级

通过不同的选择器，选中相同的元素，并且为相同的样式名设置不同的值时，就发生了样式冲突，到底应用哪个样式，此时就需要看优先级了。

`行内样式 > ID选择器 > 类选择器 > 元素选择器 > 通配选择器`

**计算方式：**

每个选择器，都可以计算出一组权重，格式为：（a, b, c）

a：ID 选择器的个数。

b：类、伪类、属性 选择器的个数。

c：元素、伪元素选择器额个数。
